# ===============================================
# BestBuy Restock Watcher Configuration Template
# ===============================================
# Copy this file to ".env" and fill in your own values.
# DO NOT commit your actual .env file (contains secrets)
# ===============================================


# ------------------------------------------------
# üîë Required API Credentials
# ------------------------------------------------
# Obtain a free Best Buy Developer API key here:
# https://developer.bestbuy.com
BESTBUY_API_KEY=your_bestbuy_api_key_here

# Create a Telegram bot using @BotFather and get your bot token:
# https://core.telegram.org/bots#how-do-i-create-a-bot
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Get your Telegram chat ID (use https://t.me/userinfobot or a test message)
TELEGRAM_CHAT_ID=your_telegram_chat_id_here


# ------------------------------------------------
# üìç Location & Polling
# ------------------------------------------------
# ZIP code to search around
ZIP_CODE=00000

# Max distance (in miles) to include store results
MAX_DISTANCE_MI=30

# Polling interval (in seconds) for checking stock
POLL_EVERY_SECONDS=60

# Delay between individual store/product requests (seconds)
PER_REQUEST_DELAY_S=1.5

# Backoff delay (seconds) after rate-limit or quota errors
RATE_BACKOFF_S=3.0

# If true, sends an alert on first run even if already in stock
ALERT_ON_FIRST_SEEN=true


# ------------------------------------------------
# üì¶ SKUs to Watch
# ------------------------------------------------
# Comma-separated numeric SKUs from BestBuy product pages (ctrl + u) + (ctrl + f, search "skuId")
# Example: SKU_LIST=1234567,7654321
SKU_LIST=0000000,0000000


# ------------------------------------------------
# üè™ Optional: Priority Stores
# ------------------------------------------------
# Enter store IDs you want prioritized in alerts (not required)
# You can find store IDs in your log after first run
PRIORITY_STORE_IDS=1234,567,890


# ------------------------------------------------
# üåê HTML Fallback (Recommended = true)
# ------------------------------------------------
# Uses HTML scraping when API is over quota or throttled
HTML_FALLBACK=true

# Friendly store name to display if fallback hits (optional)
FALLBACK_STORE_HINT=Your City or Preferred Store Name

# Text fragments that indicate an item is available for pickup
# (case-insensitive, use "|" between terms)
FALLBACK_MIN_HIT=pickup today|ready today|available today|in stock|ready for pickup


# ------------------------------------------------
# üßæ Logging & Telegram Behavior
# ------------------------------------------------
# Sends startup notification when watcher begins
TELEGRAM_STARTUP_PING=true

# Logs Telegram API responses (recommended = true for debugging)
TELEGRAM_VERBOSE=true

# Logs URLs of every Best Buy API call (for debugging)
DEBUG_LOG_URLS=false

# Logs full JSON responses (can be large; use only for debugging)
DEBUG_LOG_JSON=false


# ------------------------------------------------
# üíæ File Paths
# ------------------------------------------------
STATE_PATH=./availability_state.json
LOG_PATH=./restock.log


# ------------------------------------------------
# ‚è±Ô∏è Heartbeat (Uptime Pings)
# ------------------------------------------------
# Sends a periodic Telegram message showing uptime, loop count, etc.
HEARTBEAT_ENABLED=true
HEARTBEAT_EVERY_MINUTES=60   # Change to 30 or 120 if you prefer
